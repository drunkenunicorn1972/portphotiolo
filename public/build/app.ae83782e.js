(self.webpackChunk=self.webpackChunk||[]).push([[524],{2473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});r(2675),r(9463),r(2259),r(5700),r(6280),r(6918),r(1629),r(3418),r(4346),r(3792),r(4782),r(9572),r(3288),r(4170),r(2010),r(2892),r(9904),r(4185),r(875),r(3548),r(287),r(6099),r(825),r(7495),r(906),r(8781),r(7764),r(1392),r(8992),r(3949),r(3500),r(2953);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function a(e,t,r){return t=l(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var p,d,y,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,n=[{key:"connect",value:function(){console.log("Dropzone controller connected!"),this.setupDropzone()}},{key:"setupDropzone",value:function(){var e=this,t=this.dropzoneTarget,r=this.inputTarget;["dragenter","dragover","dragleave","drop"].forEach(function(r){t.addEventListener(r,e.preventDefaults.bind(e),!1),document.body.addEventListener(r,e.preventDefaults.bind(e),!1)}),["dragenter","dragover"].forEach(function(r){t.addEventListener(r,function(){return e.highlight(t)},!1)}),["dragleave","drop"].forEach(function(r){t.addEventListener(r,function(){return e.unhighlight(t)},!1)}),t.addEventListener("drop",this.handleDrop.bind(this),!1),r.addEventListener("change",this.handleFiles.bind(this),!1)}},{key:"preventDefaults",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"highlight",value:function(e){e.classList.add("dragover")}},{key:"unhighlight",value:function(e){e.classList.remove("dragover")}},{key:"handleDrop",value:function(e){var t=e.dataTransfer.files;this.inputTarget.files=t,this.handleFiles()}},{key:"handleFiles",value:function(){var e=o(this.inputTarget.files);this.updatePreview(e)}},{key:"updatePreview",value:function(e){var t=this;if(this.previewTarget.innerHTML="",0!==e.length){var r=document.createElement("div");r.className="file-list",e.forEach(function(e){var n=document.createElement("div");if(n.className="file-item d-flex align-items-center mb-2",e.type.startsWith("image/")){var o=document.createElement("img");o.file=e,o.className="file-thumbnail me-2",o.style.width="50px",o.style.height="50px",o.style.objectFit="cover",o.style.borderRadius="4px";var i=new FileReader;i.onload=function(e){o.src=e.target.result},i.readAsDataURL(e),n.appendChild(o)}var u=document.createElement("span");u.textContent=e.name,u.className="file-name",n.appendChild(u);var a=document.createElement("span");a.textContent=" (".concat(t.formatFileSize(e.size),")"),a.className="file-size text-muted ms-2",n.appendChild(a),r.appendChild(n)}),this.previewTarget.appendChild(r)}else this.previewTarget.innerHTML='<p class="text-muted">No files selected</p>'}},{key:"formatFileSize",value:function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]}},{key:"triggerFileInput",value:function(){this.inputTarget.click()}}],n&&u(r.prototype,n),i&&u(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(2891).xI);p=b,y=["input","preview","dropzone"],(d=s(d="targets"))in p?Object.defineProperty(p,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[d]=y},2882:(e,t,r)=>{"use strict";var n=r(3481),o=r.n(n);(0,r(3066).E)(r(5490));window.L=o(),console.log("App initialized!")},3568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(2891);const o=class extends n.xI{constructor(e){super(e),this.__stimulusLazyController=!0}initialize(){this.application.controllers.find(e=>e.identifier===this.identifier&&e.__stimulusLazyController)||Promise.all([r.e(333),r.e(436)]).then(r.bind(r,2436)).then(e=>{this.application.register(this.identifier,e.default)})}}},5490:(e,t,r)=>{var n={"./csrf_protection_controller.js":3568,"./dropzone_controller.js":2473,"./hello_controller.js":6824,"./leaflet_controller.js":8167};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=5490},5828:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={"symfony--ux-turbo--turbo-core":r(6773).A}},6824:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});r(2675),r(9463),r(2259),r(5700),r(6280),r(6918),r(3792),r(9572),r(4170),r(2892),r(9904),r(4185),r(875),r(3548),r(287),r(6099),r(825),r(7764),r(2953);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function u(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),r=t,(n=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(2891).xI)},8167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});r(2675),r(9463),r(2259),r(5700),r(6280),r(6918),r(3792),r(2062),r(9572),r(4170),r(2892),r(9904),r(4185),r(875),r(3548),r(287),r(6099),r(825),r(7764),r(8992),r(1454),r(2953);var n=r(2891),o=r(3481),i=r.n(o),u=r(9927),a=r(8980);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function f(e,t,r){return t=p(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=i().icon({iconUrl:u,shadowUrl:a,iconSize:[25,41],iconAnchor:[12,41]});i().Marker.prototype.options.icon=b;var v,h,m,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),r=t,(n=[{key:"connect",value:function(){if(console.log("Leaflet controller connected"),console.log("Latitude:",this.latitudeValue),console.log("Longitude:",this.longitudeValue),void 0!==i()){var e=i().map(this.element).setView([this.latitudeValue,this.longitudeValue],this.zoomValue);i().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19}).addTo(e),i().marker([this.latitudeValue,this.longitudeValue]).addTo(e)}else console.error("Leaflet is not loaded")}}])&&l(r.prototype,n),o&&l(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(n.xI);v=g,h="values",m={latitude:Number,longitude:Number,zoom:{type:Number,default:13}},(h=y(h))in v?Object.defineProperty(v,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):v[h]=m}},e=>{e.O(0,[443],()=>{return t=2882,e(e.s=t);var t});e.O()}]);